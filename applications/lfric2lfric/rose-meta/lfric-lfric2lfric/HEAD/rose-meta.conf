import=lfric-gungho/HEAD

[namelist:lfric2lfric]
compulsory=true
description=
ns=namelist/lfri2lfric
title=lfric2lfric

[namelist:lfric2lfric=coarse_to_fine]
compulsory=true
description=Regrid from coarse to fine mesh.
fail-if=this == '' ;
help=For the map regridding method, specify if you are regridding
    =for a coarse to a fine mesh (True) or from a fine to a coarse
    =mesh (False).
ns=namelist/lfric2lfric/configuration
type=logical

[namelist:lfric2lfric=destination_mesh_name]
compulsory=true
description=Tag-name for destination-mesh
fail-if=this == namelist:lfric2lfric=source_mesh_name ;
help=Mesh topologies are held in UGRID conformant NetCDF files which
    =may contain more than one mesh topology. This tag-name identifies
    =the mesh topology to use from the mesh file namelist:lfric2lfric=destination_meshfile_prefix.
!string_length=default
type=character

[namelist:lfric2lfric=destination_meshfile_prefix]
compulsory=true
description=Location of destination 2D mesh input file(s) (prefix).
help=Input files for 2D meshes are in NetCDF file format. The mesh topologies in the file should
    =be conformant to UGRID convention.
    =
!string_length=filename
type=character

[namelist:lfric2lfric=origin_domain]
compulsory=true
description=The domain that will be the source of the values to be regridded.
!enumeration=true
help=The LAM domain can only be used as an origin domain when regridding
    =to another LAM mesh, lfric2lfric does not support LAM-to-global or
    =LAM-to-LBC regridding.
sort-key=1
value-titles=global, LAM
values='global', 'LAM'

[namelist:lfric2lfric=regrid_method]
compulsory=true
description=Regridding method
!enumeration=true
help=Method used to regrid between the source and destination mesh,
    =there are three options available:
    =
    = 'Inter-grid maps' : Use inter-grids maps which link suitable pairs
    =                     of input meshes. Inter-grid maps are restricted
    =                     to mesh pairs where cells on one mesh are a
    =                     gridded sub-division of cells from the other mesh.
    =                     These inter-grid maps are included in the mesh
    =                     files, if requested from the mesh generators when
    =                     configured to output multiple meshes.
    =
    = 'LFRic2LFRic'     : The regridding between the source and destination
    =                     grids is made through the weight files generated
    =                     by an external tool, applied by a lfric2lfric
    =                     kernel.
    =
    = 'Oasis'           : The regridding between the source and destination
    =                     grids is make through the weigh files generated
    =                     by an external tool, applied by the OASIS
    =                     library.
    =
ns=namelist/lfric2lfric/configuration
trigger=namelist:lfric2lfric=weight_file_face_to_face: 'weights' ;
value-titles=Inter-grid maps, LFRic2LFRic, Oasis
values='map','lfric2lfric','oasis'

[namelist:lfric2lfric=source_mesh_name]
compulsory=true
description=Tag-name for source-mesh
fail-if=this == namelist:lfric2lfric=destination_mesh_name ;
help=Mesh topologies are held in UGRID conformant NetCDF files which
    =may contain more than one mesh topology. This tag-name identifies
    =the mesh topology to use from the mesh file namelist:lfric2lfric=source_meshfile_prefix.
!string_length=default
type=character

[namelist:lfric2lfric=source_meshfile_prefix]
compulsory=true
description=Location of source 2D mesh input file(s) (prefix).
fail-if=namelist:lfric2lfric=regrid_method == "'map'" and this != namelist:lfric2lfric=destination_meshfile_prefix ;
help=Input files for 2D meshes are in NetCDF file format. The mesh topologies in the file should
    =be conformant to UGRID convention.
    =
!string_length=filename
type=character

[namelist:lfric2lfric=target_domain]
compulsory=true
description=The domain type that the source data will be regridded to.
!enumeration=true
fail-if=this == "'LBC'" and namelist:lfric2lfric=origin_domain == "'LAM'" # LAM cannot provide source values for LBC creation
       =this == "'global'" and namelist:lfric2lfric=origin_domain == "'LAM'" # LAM cannot currently be regrid into global
help=Target domains currently not supported include:
    =
    = origin => target
    = ----------------
    = LAM    => LBC
    = LAM    => global
    =
sort-key=2
value-titles=global, LAM, LBC
values='global', 'LAM', 'LBC'
